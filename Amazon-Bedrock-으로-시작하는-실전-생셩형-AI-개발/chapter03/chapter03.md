# 03.프롬프트 엔지니어링(Prompt ENgineering)

* 3-1 프롬프트 엔지니어링 개념과 중요성
* 3-2 효과적인 프롬프트 작성 방법
* 3-3 Prompt Engineering with Claude
* 3-4 프롬프트 템플릿 예시

## 3-1 프롬프트 엔지니어링의 개념과 중요성
프롬프트 엔지니어링은 대규모 언어모델(LLM) 과 효과적으로 상호작용하고 원하는 결과를 얻기 위해 프롬프트를 설계하고 최족화하는 중요한 과정입니다. 이는 단순히 프롬프트를 작성하는 것 이상의 의미를 지니며 LLM 의 능력을 극대화하고 다양한 작업에서 활용할 수 있도록 하는 중요한 기술입니다. LLM 의 기능과 한계를 이해하고 적절한 프롬프트 형식과 구조를 선택하며 외부 지식과 도구를 활용하여 LLM 의 성능을 향상시키는 전반적인 과정입니다.

잘 설계된 프롬프트는 LLM 의 성능을 크게 향상시킬 수 있으며 이를 통해 LLM 의 안전성과 신뢰성도 높일 수 있습니다. 또한 각 도전 과제에 적합한 프롬프트를 설계함으로써 LLM 을 다양한 분야에서 활용할 수 있는 새로운 사용 사례를 개발할 수 있습니다.

효과적인 프롬프트를 작성하기 위해서는 프롬프트의 구조와 더 나은 답변을 받기 위한 대표적인 프롬프트 작성 기법을 이해하는 것이 중요합니다. 이번 챕터에서는 이러한 프롬프트 엔지니어링 기법을 소개하고 특히 Amazon Bedrock 모델 중에서 한국 답변 능력이 뛰어난 Anthropic 의 Claude 모델에 대한 프롬프트 엔지니어링 기법도 다루겠습니다.

## 3-2 효과적인 프롬프트 작성 방법
프롬프트에는 LLM 이 수행할 작업이나  지시 관련된 정보(맥락), 예시, 입력 텍스트 등 다양한 구성 요소가 포함될 수 있습니다. 예를 들어 '지시'와 '맥락'으로 구성된 프롬프트는 다음과 같습니다.

> (지시) 교육부가 최근 인공지능(AI) 디지털교과서 도입 계획을 발표했습니다. 이 정책의 주요 내용과 기대효과 교려사항에 대해 요약해 주세요.

> (맥락) 관련 배경지식:
- AI 디지털교과서는 학생 데이터 기반으로 맞춤형 학습콘텐츠를 제공합니다.
- 2025년 국어, 수학, 영어, 정보 교과부터 단계적으로 도입됩니다.
- 교사 연수, 맞춤형 교수법 개발 등 현장 안착을 위한 지원도 계획되어 있습니다.

효과적인 프롬프트 엔지니어링을 위해서는 작업의 특수성과 사용 목적을 고려하여 적절한 프롬프트 구성 요소와 기법을 선택하고 반복적인 실험과 최적화를 통해 LLM 의 성능을 극대화해야 합니다. 이를 위해 다음과 같은 프롬프트 엔지니어링 기법들이 사용됩니다.

## 제로샷 프롬프팅(Zero-shot prompting)
모델이 생성해야 하는 출력에 대하여 별다른 제약 조건 혹은 세부 정보 없이 지시하는 방식입니다. 에를 들어 "다음 내용을 요약해 주세요." 라고 지시하면 모델은 사전 학습된 지식을 바탕으로 요악을 생성합니다. Amazon Titan Text 모델 중 하나이 "Titan Text G1 - Premier" 모델에서 제로삿을 수행하면 다음과 같습니다.

> Human : 다음 문장이 긍적ㅇ적인지 부정적인지 분류해 주세요 : '오늘 날씨가 정말 좋아요.'

> Titan Text G1 - Premier: 긍정
설명 : '오늘 날씨가 정말 좋아요' 는 긍정적인 문장입니다. '좋다'는 긍정적인 느낌을 나타내는 단어이고 '오늘 날씨가 좋아요' 는 오늘 날씨가 좋다는 것을 의미합니다. 따라서 이 문장은 긍정적인 문장입니다.

Titan 모델의 경우 별다른 지시가 없는 제로샷 지시에 대하여 긍정/부정 분류와 동시에 설명을 덧붙여 답변을 생성했습니다. 그러나 모델 사용자가 '설명'없이 '답변'만 받아보고 싶을 경우 추가 지시가 필요합니다. 모델에게 출력에 대한 원하는 제약 조건을 추가하여 '설명'없이 답변만 출력하도록 지시를 작성해 보겠습니다.

> Human : 설명 혹은 서두없이 질문에 대한 답변을 생성하세요. 다음 문장이 긍정적인지 부정적인지 분류해 주세요 : '오늘 날씨가 정말 좋아요.'

> Titan Text G1 - Premier : 긍정

위와 같이 제약 조건을 추가하면 설명 없이 원하는 답만 출력할 수 있습니다. 이때 제약 조건 혹은 지시는 최대한 간단 명로하게 작성하는 것이 좋습니다.

## 퓨샷 프롬프트(Few-shot prompting)
원하는 출력을 얻기 위해서 지시를 명료하게 작성했음에도 불구하고 원하는 결과물이 나오지 않을 수 있습니다. 모델에게 몇 가지 예시를 함께 제공한다면 모델은 주어진 맥락을 더 잘 이해하고 유사한 패턴으로 답변을 생성할 수 있습니다. 언어모델에게 몇 가지 예시를 제공하여 답변의 정확성 및 품질을 개선하는 방법을 퓨샷(few-shot) 프롬프팅이라 하며 멀티샷(multishot) 이라고도 알려져있습니다.

> Human : 다음은 긍정문과 부정문의 예시입니다.
긍정 : 이 영화는 정말 재미있었어요.
부정 : 오늘 아침에 버스를 놓쳤어요.
긍정 : 새로운 직장에서 좋은 동료들을 만났어요

다음 문장을 분류하세요 : '시험 결과가 생각보다 안 좋네요.'

> Titan Text G1 - Premier : 부정

제로샷 프롬프틍과 같이 '설명'없이 '답변'만 출력하라는 제약 조건 없이도 퓨샷(few-shot) 예제를 통해 원하는 대로 답변을 출력할 수 있었습니다. 퓨샷 프롬프팅은 예제를 통해 사용자의 의도대로 모델의 출력을 제어할 수 있습니다.

퓨샷 형태로 예시를 모델에게 전달할 경우 다음과 같이 구분 기호(#, :) 를 통해 '지시' 와 '예시' 를 구분 지어주는 것이 좋습니다.

> 다음은 긍정문과 부정문의 예시입니다.
```
###예시###
긍정: 이 영화는 정말 재미있었어요.
부정: 오늘 아침에 버스를 놓쳤어요.
긍정: 새로운 직장에서 좋은 동료들을 만났어요.
```

> 다음 문장을 분류하세요: '시험 결과가 생각보다 안 좋네요.'

구분 기호를 부여하는 방식은 모델마다 최적화된 방법이 다릅니다. Anthropic 의 Claude 모델의 경우, XML 태그로 구분하면 문맥을 더 잘 이해하고 더 정확한 출력을 생성하는 데 도움이 됩니다.

> 다음은 긍정문과 부정문의 예시입니다.

```
<예시>
긍정: 이 영화는 정말 재미있었어요.
부정: 오늘 아침에 버스를 놓쳤어요.
긍정: 새로운 직장에서 좋은 동료들을 만났어요.
</예시>
```

> 다음 문장을 분류하세요: '시험 결과가 생각보다 안 좋네요.'

### 생각의 사슬(Chain of Thaught, CoT)프롬프팅
퓨샷 프롬프팅에서는 몇 가지 예시를 제공하지만, 복잡한 문제에 대해서는 여전히 정확한 결과를 얻기 어려울 수 있습니다. 이는 사람이 복잡한 계산을 할 떄 단계별로 식을 세우고 문제를 해결하는 것과 유사한 방식입니다. 이를 생각의 사슬(Chain of Thought CoT) 프롬프팅이라고 합니다.

즉 복잡한 문제를 해결할 때 모델이 단계별로 추론 과정을 보여 주도록 유도하는 기법입니다. 이를 통해 모델의 사고 과정을 이해하고 개선할 수 있습니다.

CoT 프롬프팅을 구현하는 가장 간단한 방법은 "단계별로 생각하라(Think step-by-step)" 와 같은 지시를 추가하는 것입니다. Titan 모델의 경우 "Think step-by-step to come up with the right answer" 라는 해당 문구를 Claude 모델의 경우 "Think step-by-step" 이라는 문구를 포함하면 적절한 결과를 생성하는 데 도움이 됩니다. 이를 "Basic CoT" 혹은 "Zero-shot CoT" 라고도 ㅂ릅니다.

그러나 최근 LLM 의 발전에 따라 Chain-of-Thought 기법이 기본적으로 적용되어 있는 경우가 많아졌습니다. 따라서 CoT 를 유도하는 문구를 포함하지 않고도 모델이 스스로 CoT 를 적용하여 답변을 생성할 수 있습니다. 아래 예시는 'Think step-by-step" 문구 없이도 Claude 3 Haiku 모델이 CoT 를 수행하는 예시입니다.

> Human : 다음 문제를 풀어보세요: 한 가계에서 사과 3개에 1,500원, 배 2개에 2,000원을 받습니다. 사과 5개와 배 3개를 사려면 얼마가 필요할까요?

```
Claude 3 Haiku: 문제 상황을 분석해 보면 다음과 같습니다:

1. 사과 3개에 1,500원
2. 배 2개에 2,000원

따라서 사과 1개의 가격은 1,500원 + 3 = 500원이고, 배 1개의 가격은 2,000원 + 2 = 1000원입니다.

이 정보를 바탕으로 사과 5개와 배 3개를 구매할 때의 총 금액을 계산해 보면:

- 사과 5개 = 5 * 500원 = 2,500원
- 배 3개 = 3 * 1,000원 = 3,000원
- 총 금액 = 2,500원 + 3,000원 = 5,500원

따라서 사과 5개와 배 3개를 사려면 총 5,500원이 필요합니다.
```

지금까지 우리는 언어 모델의 유형에 상관없이 일반적으로 적용 가능한 프롬프트 엔지니어링 기법들을 살펴보았습니다. 이러한 기법들은 모델의 성능을 극대화하고 복잡한 문제를 효과적으로 해결하는 데 도움이 됩니다.

하지만 특정 언어 모델의 특성을 고려한 맞춤형 프롬프트 엔지니어링 기법을 활용한다면 해당 모델으 ㅣ강점을 최대한 발휘할 수 있을 겁니다. 이번에는 현재 Amazon Bedrock 내에서 사용 가능한 모델중 한국어 답변 능력이 가장 뛰어난 것으로 알려진 Anthropic 의 Claude 모델을 더욱 효과적으로 사용하기 위한 프롬프트 엔지니어링 기법들에 대해 자세히 알아 보겠습니다.

## 3-3 프롬프트 엔지니어링 with Claude
Claude 모델은 다양한 작업에서 높은 성능을 보이지만 적절한 프롬프팅 방식을 통해 그 능력을 한층 더 끌어올릴 수 있습니다. 따라서 Claude 모델의 특성을 이해하고 이에 맞춘 프롬프트 구조와 기법을 활용한다면 보다 정확하고 유용한 결과를 얻을 수 있을 겁니다.

### 안내 프롬프트(Guided prompt)
앞서 배운 퓨샷(Few-shot) 및 CoT 프롬프팅 기법은 Claude 모델에서도 효과적으로 적용할 수 있습니다. Anthropic 의 프롬프트 엔지니어링(Prompt Engineering) 문서에서는 이러한 기법을 '안내 프롬프트'라고 설명하고 있습니다. 안내 프롬프트는 모델이 사고 과정에서 따라야 할 구체적인 단계를 제시함으로써 체계적인 추론을 유도합니다.

안내 프롬프팅은 작업 수행 방식을 보여 주기 위해 몇 가지 예시(Few-shop)을 제공하고 모델에게 추론 과정을 단계별로 보여 주도록 유도(CoT 프롬프팅)하는 기법입니다. 안내 프롬프트는 이 두가지 기법을 통합하여 예시와 함께 체계적인 사고 과정일 제시합니다. 앞서 설명한 두 가지 기법이 자연스럽게 통합된 안내 프롬프트의 예시를 확인해 보겠습니다. 

### 1. 안내 프롬프트 예시
```
Human: Amazon Bedrock 에 관련된 AI 도서 기획안을 5 단원 이내의 내용으로 작성해 주세요.

도서기획안을 작성할 때는 다음 다섯 가지 규칙을 차례대로 고민하여 구첵적이고 해당 도서의 가치와 실현 가능성을 판단할 수 있는 방향으로 작성합니다.

1. 책의 개요
- 책의 제목과 부제
- 책의 목표 독자층
- 책의 구성(예상 분량, 장 구성 등)

2. 시장 분석
- 유사 도서 현황 및 차별성
- 예상 독자층 분석

3. 저자 소개
- 저자 경력 및 저서
- 저자의 전문성

4. 목차 계획
- 개략적인 목차 구성
- 각 장의 주요 내용 요약

5. 집필 계획
- 원고 작성 일정
- 필요한 자료 조사, 인터뷰 등 계획
```

### 2. 안내 프롬프트 답변(서문 삭제)
```
1. 책의 개요
- 제목: "Amazon Bedrock: 클라우 컴퓨팅의 혁신적 기반"
- 부제: "Amazon Bedrock 의 아키텍처, 활용 사례 및 미래 전망"
- 목표 독자층: 클라우드 컴퓨팅 전문가, IT 엔지니어, 기술 기업 경영진, 대학생 및 일반 독자
- 구성: 약 300페이지, 10개 장으로 구성

2. 시장 분석
- 유사 도서로는 일반적인 클라우드 컴퓨팅 서적이 있지만, Amazon Bedrock 에 특화된 도서는 없음
- 차별성: Amazon Bedrock 의 독창적인 아키텍처와 기술적 특징, 실제 확용 사례 및 미래 발전 방향 제시
- 예상 독자층: 클라우드 컴퓨팅 분야 종사자, 기술 기업, 대학 및 연구 기관

3. 저자 소개
- 저자: John Doe(가명), Amazon Web Services(AWS) 수석 아키텍트
- 경력: 15년 이상 클라우드 컴퓨팅 분야 종사, AWS 아키텍처 설계 및 구현 주도
- 저서: "AWS 아키텍처 가이드" 등 다수의 기술 서적 출간

4. 목차 계획
1) Amazon Bedrock 소개
2) Bedrock 아키텍처 개요
3) 컴퓨팅 및 스토리지 관리
4) 네트워킹 및 보안
5) 데이터 관리 및 분석
6) 개발 및 배포 환경
7) 모니터링 및 운영
8) Bedrock 활용 사례 연구
9) Bedrock 의 미래 전망
10) 결론 및 실습 예제

5. 집필 계획
- 원고 작성 기간: 약 6개월
- AWS 내부 자료 및 기술 문서 조사
- Bedrock 아키텍처 전문가 인터뷰
- 실제 Bedrock 활용 기업 사례 조사
- Bedrock 기반 실습 환경 구축 및 예제 작성
```

위와 같이 추론에 도움이 되는 사고의 과정을 적용하는 '안내 프롬프트'를 통해 꽤 그럴듯한 '도서 기획안'을 작성했습니다. 그러나 4번 '목차 계획' 부분의 내용이 조금은 아쉽습니다. 물론 수차례의 프롬프트 튜닝을 통해 더 나은 답변을 받아 볼 수 있지만 이 방식의 한계점은 최종 결과물이 어떤 과정을 거쳐 생성된 것인지는 알기 어렵다는 것입니다. Anthropic 문서에서는 이런 현상을 답과 생각을 분리할 수 있는 구조화가 되어 있지 않다고 표현입니다.

## TIP
### 프롬프트 전달 방식은 모델마다 다른가요?
```
일반적으로 언어 모델에서 '.', '.', 등과 같은 구분 문자를 사용하면 구문 분석 능력이 향상됩니다. 이러한 기법은 Claude 모델에서도 유효하지만 XML 태그를 활용하여 프롬프트를 구조화하면 더욱 고품질의 결과를 얻을 수 있습니다.

XML 태그를 활용하여 프롬프트를 구조화하면 다음과 같은 주요 이점이 있습니다.

➊ 프롬프트의 서로 다른 부분(맥락, 예시 등)을 명확히 구분할 수 있어 모델의 이해도를 높입니다.

➋ 모델의 출력 결과가 XML 태그 안에 구조화되어 있어 후처리 작업이 용이해집니다.

➌ 모델의 추론 과정이 명시적으로 제시되어 모델의 사고 방식을 이해하고 개선할 수 있는 기회를 제공합니다.

Claude 에는 특별히 학습된 "최적의" XML 태그는 없지만 태그 이름은 태그에 포함된 정보를 잘 나타내는 의미 있는 이름을 사용하는 것이 좋습니다.
```

### 구조화된 프롬프트(Structured Prompt)
앞서 소개한 예시를 개선하기 위해 XML 태그를 활용하여 프롬프트를 구조화하는 방법을 적용해 보겠습니다. 이를 통해 Claude 모델이 '목차 계획'에 대한 추론 과정을 <thinking> 태그로 보여 주고 최종 답변은 <answer> 태그로 구분할 수 있습니다. 모델의 추론 과정을 명시적으로 확인할 수 있다면 프롬프트를 개선하는 데 도움이 될 것입니다. 이러한 구조화된 접근 방식은 모델의 사고 과정을 이해하고 더 효과적인 프롬프트를 설계하는 데 유용할 것입니다.

### 1. 구조화된 프롬프트 예시
```
Human: Amazon Bedrock 에 관련된 AI 도서의 목차 계획을 5 단원이내의 내용으로 작성해 주세요.

목차 계획을 작성하기 전에 <thinking> 태그에 생각해 두세요. 먼저 책의 개요와 시장 분석과 같은 내용을 설정했는 지 생각해 보세요. 그런 다음 AI 를 목표 독자에게 쉽게 설명하는 목차 계획인지 고려해 보세요. 마지막 <answer> 태그에 구체적이고 해당 도서의 가치와 실현 가능성을 판단할 수 있는 방향을 고려한 목차 계획을 작성하세요.
```

### 2. 구조화된 프롬프트 답변(서문 삭제)
```
<thinking>
이 책을 목표는 Amazon Bedrock 에 대한 개요와 이해를 제공하는 것이므로 다음과 같은 내용을 포함해야 할 것 같습니다.

- Amazon Bedrock 소개 및 개요
- Amazon Bedrock 의 주요 기능과 활용 사례
- Amazon Bedrock 를 구현하고 활용하는 방법
- Amazon Bedrock 의 장단점 및 미래 전망
- 실제 사례 연구 및 모범 사례

또한 AI 기술에 익숙하지 않은 독자를 대상으로 하므로 AI 와 클라우드 컴퓨팅의 기본 개념을쉽게 설명하는 내용도 포함해야 할 것 같습니다. 마지막으로 이 책이 실용적이고 가치 있는 정보를 제공할 수 있도록 실제 사례와 모범 사례를 충분히 다루어야 할 것입니다.
</thinking>

<answer>
제1장: Amazon Bedrock 소개
- Amazon Bedrock 란 무엇인가?
- Amazon Bedrock 의 배경과 필요성
- Amazon Bedrock 의 주요 기능 개요

제2장: AI와 클라우드 컴퓨팅의 기초
- AI의 기본 개념과 원리
- 클라우드 컴퓨팅의 정의와 유형
- AI 와 클라우드 컴퓨팅의 상호 작용

제3장: Amazon Bedrock 주요 기능과 활용 사례
- 머신러닝 모델 구축 및 배포
- 데이터 처리 및 분석
- 보안 및 규정 준수
- 실제 활용 사례 연구

제4장 Amazon Bedrock 구현 및 활용 방법
- Amazon Bedrock 설정 및 구성
- 개발 및 배포 프로세스
- 모니터링 및 문제 해결
- 모범 사례와 팁

제5장: Amazon Bedrock 의 미래와 전망
- Amazon Bedrock 의 장단점 분석
- 향후 로드맵과 업데이트 계획
- AI 와 클라우드 컴퓨팅의 미래 트랜드
- Amazon Bedrock 의 발전 방향
```

구조화된 프롬프트 기법을 통해 최종 답변이 '추론 과정'과 '답변'으로 분리 되었습니다. 이 기법은 'Claude' 에게 사고 과정을 유도하여 더 나은 답변을 이끌어 내는 동시에 <thinking> 테그로 분리된 추론 과정을 확인할 수 있게 해주었습니다. 이를 통해 프롬프트를 지속적을 ㅗ개선할 수 있는 기히를 얻게 되었습니다.

### 시스템 프롬프트 활용하기
시스템 프롬프트(System Prompt) 확은 시스템 메시지(System Messages)는 언어 모델에게 특정 역활이나 지침을 부여하는 효과적인 방법입니다. 이는 사용자로부터 질문이나 작업에 대한 지시를 받기 전에 맥락, 가이드라인, 성격 등을 설정하여 모델의 응답 방식을 조절할 수 있습니다. 해당 기법은 일단 프롬프트에서도 활용 가능하지만 'System' 변수를 제공하는 모델일 경우 시스템 프롬프트를 활용하면 성능을 더욱 개선할 수 있습니다.

시스템 프롬프트는 다음의 사항들이 포함 될 수 있습니다.

➊ 작업 지침 및 목표

➋ 성격, 역활, 어조에 관한 지침(페르소나)

➌ 사용자 입력에 대한 맥락 정보

➍ 규칙 혹은 가드 레인

➎ 출력 형식 혹은 스타일 지침

시스템 프롬프트는 모델이 가이드라인을 준수하도록 돕지만, Jailbreaks(탈옥, 챗본이 혐오 콘텐츠를 생성하거나 불법 행위에 대해 글을 쓰는(금지)구칙을 우회하도록 프롬프트를 설계하는 것을 말합니다. 말 그대로 규칙과 기준이 정해진 공간(감옥)에서 벗어나는 것을 의미합니다.) 혹은 Prompt Leaking(프롬프트 유출, 기존에 작성된 시스템 프롬프트를 유출하는 것으로 적절한 방어조치를 취하지 않았을 경우 프롬프트의 모델 데이터가 유출되는 등의 기업에게 치명적인 손실을 입힐 수 있습니다.) 등과 같은 공략 기법에 대하여 완벽한 보호를 보장하지는 않습니다. 따라서 시스템 프폼프트 사용 시 주의가 필요합니다.

다음은 쳇 플레이그라운드(chat.playground)에서 [System prompts] 에 사용자의 질문에 대하여 무조건 이모티콘과 함께 '용' 으로 끝나는 말투로 대답해 달라는 지시와 실행 결과를 담은 화면입니다.

![](./스크린샷_2025-02-14_18.06.52.png)

그림 3-11. 플레이그라운드에서 시스템 프롬프트 테스트

시스템 프롬프트는 언어 모델의 응답을 사용자 정의하고 제어하는 데 유용한 도구입니다. 적절한 시스템 프롬프트를 사용하면 모델의 출력을 원하는 방향으로 조정할 수 있으며 다양한 상황과 맥락에 맞게 모델의 역활과 설정을 할 수 있습니다.

## 3-4 프롬프트 템플릿 예시
지금까지 프롬프트 엔지니어링의 기본 개념과 다양한 기법들을 살펴보았습니다. 이제 이러한 기법들을 실제 응용 사례에 적용해 보겠습니다. 이번 섹션에서는 요약, 번역과 같은 자연어 처리의 핵심 작업과 주요하게 쓰이는 사용 사례인 코드 생성에 대한 고급 프롬프트 템플릿 예시를 소개합니다.

앞서 소개한 다양한 프롬프틍 기법을 종합적으로 활용하여 템플릿들을 실계하였습니다. 각 예시는 해당 작업의 특성을 고려하여 최적화되었으며 실제 업무 환경에서 즉시 적용할 수 있는 기초를 제공합니다.

이 섹션의 목표는 단순히 템플릿을 제공하는 것을 넘우 각 작업별 효과적인 프롬프트를 설계하는 과정과 그 배경에 있는 사고 방식을 이해하는 데 있습니다. 각 템플릿에 대한 상세한 설명을 통해 이러한 접근 방식을 특정 사용 사례에 맞게 조정하고 확정하는 방법을 배울 수 있을 것입니다. 이제 각 작업별로 구체적인 프롬프트 템플릿과 이에 대한 상세한 설명을 살펴보겠습니다. 

### 요약: 텍스트 압축 및 핵심 정보 추출
Claude 모델을 사용하여 요약 작업을 수행하는 프롬프트 예시입니다. 프롬프트 내에 요악하려는 입력 텍스트를 전달하기 위해 <text> XML 태그로 감싸 줍니다. 앞서 설명한 구조화된 프롬프트와 생각의 사슬(CoT) 기법을 모두 적용한 예시입니다. 요약은 긴 텍스트에서 핵심 아이디어를 추출하고 간결하게 표현하는 중요한 자연어 처리 작업입니다. 효과적인 요약은 다음과 같은 특징이 있습니다.

➊ 간결성: 원문보다 훨씬 짧으면서도 핵심 정보를 포함합니다. 

➋ 일관성: 요약문 자체로 논리적으로 연결되고 이해 가능해야 합니다.

➌ 충실성: 원문의 주요 내용을 정확하게 반영해야 합니다.

➍ 객관성: 요약자의 개인적 의견이나 해석을 배제하고 원문의 내용에 충실해야 합니다.

다음의 예시 프롬프트 템플릿은 Claude 모델이 이러한 요약의 특징을 고려하여 작업을 수행하도록 구조화되어 있습니다. <instructions> 태그 내의 지침은 이러한 요약의 원칙을 반영하고 있으며 <thinking> 섹션을 통해 모델이 요약 과정에서 이러한 원칙을 어떻게 적용하는 지 명시적으로 보여 줄 수 있습니다.

또한 이 템플릿은 추출적 요약(원문에서 중요한 문장을 그대로 추출)이 아닌 추상적 요약(원문의 내용을 이해하고 새로운 문장으로 재구성) 을 유도합니다. "한 문장으로 간결하게 요약하세요"라는 지침을 통해 추상적 요약임을 확인할 수 있습니다. 

### 프롬프트 템플릿(요약)
```
Human: 다음 주어진 텍스트를 읽어 주세요.

<text>
{{요약하려는 원문}}
</text>

<intructions>
1. 텍스트의 핵심 내용을 파악하세요.
2. 불필요한 세부사항은 제외하고 중용한 개념만 포함하세요.
3. 원문의 의미를 왜곡하지 않도록 주의하세요.
4. 한 문장으로 간결하게 요약하세요.
5. 서문이나 설명 없이 바로 작업으 ㅣ결과를 출력하세요.
6. 존댓말로 출력해 주세요.
</instructions>

<thinking>
여기에 요약 과정에 대한 당신의 사고 과정을 단계별로 작성해 주세요.
</thinking>

Assistant:
```

다음으 위와 같은 템플릿을 사용하여 실제로 내쉬 균형이라는 전문적인 개념에 대한 요약을 수핸한 입력 프로프트와 출력의 예시입니다.

### 입력 프롬프트 예시(요약)
```
Human: 다음 주어진 텍스트를 읽어 주세요.

<text>
내쉬 균형은 수학자 존 내쉬의 이름을 따서 명명되었습니다.
게임이론에서 내시균형이란 두 명이나 그 이상의 경기자들의 비협조적인 게임에서 각 경\기자들이 다른 경기자들의 균형전략을 알고 있다고 가정할 때 어떠한 경기자들도 자신의 전략을 바꾸지 않게 되는 비협조적인 게임에 관한 해결 방식입니다.
만약 각 경기자들이 자신의 전략을 고수하고 아무도 전략을 바꾸지 않는 다면 현재의 전략 선택은 내시균형애 부합하는 결과를 갖게 됩니다.
내시균형의 개념은 1838년 큐르노의 과정이론에서 처음 사용되어 알려졌습니다.
</text>

<intructions>
1. 텍스트의 핵심 내용을 파악하세요.
2. 불필요한 세부사항은 제외하고 중용한 개념만 포함하세요.
3. 원문의 의미를 왜곡하지 않도록 주의하세요.
4. 한 문장으로 간결하게 요약하세요.
5. 서문이나 설명 없이 바로 작업으 ㅣ결과를 출력하세요.
6. 존댓말로 출력해 주세요.
</instructions>

<thinking>
여기에 요약 과정에 대한 당신의 사고 과정을 단계별로 작성해 주세요.
</thinking>

Assistant:
```

출력
```
내쉬 균형은 비협조적 게임에서 각 참여자가 다른 참여자의 전략을 알고 있을 때 자신의 전략을 바꾸지 않는 상태를 의미하는 게임이론의 해결 방식입니다.
```

변역: 언어 간 의미전달 및 문화적 맥락 고려
Claude 모델을 사용하여 번역 작업을 수행하는 프롬프트 예시입니다. 프롬프트 내에 번역하려는 원문 텍스트와 초기 번역본을 XML 태그로 구분하여 전달합니다. 이 접근 방식은 스탠퍼드 대학교 엔드류응(Andrew Ng) 교수의 '번역 에이전트 구현' 에서 영감을 받아 구조화된 프롬프트와 반복적인 게선 과정을 적용한 것입니다.

번역은 한 언어의 텍스트를 다른 언어로 변환하는 복잡하고 섬새한 작업입니다. 효과적인 번역은 다음과 같은 특징이 있습니다.

➊ 정확성: 원문의 의미를 왜곡없이 정확하게 전달합니다. 

➋ 유창성: 목표 언어의 문법과 표현을 자연스럽고 유려하게 사용합니다.

➌ 문체 일치: 원문의 톤과 스타일을 적절히 유지합니다.

➍ 문화의 적절성: 목표 언어권의 문화적 맥락과 관습을 고려합니다.

다음의 예시 프롬프트 템플릿은 Claude 모델이 이러한 번역의 특징을 고려하여 작업을 수행하도록 구조화되어 있습니다. 번역 과정은 다음과 같은 단계로 이루어집니다.

➊ 초기 번역: 모델이 원문을 목표 언어로 번역합니다.

➋ 전문가 검토: 언어학 전문가역활의 모델이 초기 번역을 검토하고 개선 제안을 합니다.

➌ 변역 수정: 전문가의 제안을 반영하여 번역을 세밀하게 개선합니다.

이 단계적 접근 방식은 번역의 품질을 점진적으로 향상시키며 특히 문화적 뉘앙스나 관용적 표현을 적절히 반영하는 데 큰 도움이 됩니다. 또한 특정 국가나 지역의 언어 사용 방식을 고려할 수 있어 보다 자연스럽고 맥락에 맞는 번역을 생성할 수 있습니다. 이는 단순한 직역을 넘어 원문의 의도와 느끼믕ㄹ 목표 언어로 전달하는 데 중점을 둡니다.

이러한 방법은 특히 문학 작품, 마케팅 자료, 또는 문화적 요소가 강한 텍스트의 번역에서 그 가치를 발휘 할 수 있으며 기계 번역의 한계를 보완하고 인간 번역가의 전문성을 모델에 반영하는 데 도움이 됩니다.

더불어 효과적인 번역을 위해서는 일관된 용어 사용과 긴 텍스트 처리에 대한 추가적인 고려가 필요합니다. 용어집을 활용하여 전문 용어나 특정 표현으의 일관성을 유지하는 것이 중요하며 원문의 길이가 모델의 토큰 처리 한계를 초과하는 경우에는 텍스트를 적절히 분할하여 번영하는 전략이 요구됩니다. 이런한 요소들을 종합적으로 고려하여 프롬프트를 설계하고 번역 프로세스를 구현함으로써 보다 정확하고 일관성있는 고품질의 번역 결과를 얻을 수 있습니다.

### 프롬프트 템플릿(초기 번역)
```
Human: 다음은 (source_lang)에서 (target_lang)로의 번역 작업입니다. 주어진 텍스트를 {target_lang}으로 번역해 주세요.

번역 외의 다른 설명이나 텍스트는 제공하지 마세요.

<SOURCE_TEXT>
{원문}
</SOURCE_TARGET>

Assitant:
```

```
Human: 당신은 {source_lang}에서 {target_lang} 로의 번역을 전문으로 하는 언어 학자입니다. 우의 원문과 번역을 주의 깊게 읽고 번역을 개선하기 위한 건설적인 비평과 유용한 제안을 해주세요. 최종 번역의 스타일과 통는 {countiry} 에서 구어적으로 사용되는 {target_lang} 의 스타일과 일치해야 합니다.

번역 개선을 위해 다음 사항에 주의를 기울여주세요:
(i) 정확성 (추가, 오역, 누락 또는 미번역 텍스트의 오류 수정)
(ii) 유창성 ({target_lang} 문법, 철차 및 구두점 규칙 적용, 불필요한 반복 제거)
(iii) 스타일 (원문의 스타일을 반영하고 문학적 맥락을 고려)
(iv) 용어 (일관된 용어 사용 및 원문 도메인 반영, {target_lang} 에 맞는 관용구 사용)

번역을 개선하기 위한 구체적이고 유용한 제안 목록을 작성해주세요.
각 제안은 번역의 특정 부분을 다루어야 합니다.
제안 사항만 출력하고 다른 내용은 포함하지 마세요.

<SOURCE_Text>
{원문}
</SOURCE_TEXT>

<TRANSLATION>
{번역문}
</TRANSLATION>

Assitant::
```

### 프롬프트 템플릿(번역 수정)
```
Human: 당신은 {source_lang}에서 {target_lang} 로의 번역 편집을 전문으로 하는 언어학자입니다. 위의 원문, 초기 번역, 그리고 전문가의 제안을 주의 깊게 읽고 번역을 수정해주세요. 전문가의 제안을 고려하여 다음 사항을 확인하며 번역을 편집해주세요.

(i) 정확성 (추가, 오역, 누락 또는 미번역 텍스트의 오류 수정)
(ii) 유창성 ({target_lang} 문법, 철차 및 구두점 규칙 적용, 불필요한 반복 제거)
(iii) 스타일 (원문의 스타일을 반영)
(iv) 용어 (맥락에 맞지 않거나 일관성 없는 사용 수정)
(v) 기타 오류

수정된 번역만 출력하고 다른 내용은 포함하지 마세요.

<SOURCE_Text>
{원문}
</SOURCE_TEXT>

<TRANSLATION>
{번역문}
</TRANSLATION>

<EXPERT_SUGGESTIONS>
{전문가 제안 사항}
</EXPERT_SUGGESTIONS>

Assitant:
```

다음은 위와 같은 템플릿을 사용하여 스티브 잡스(Steve Jobs) 의 스텐포드 대학교 졸업식 연설문을 한글로 번역을 수행한 입력 플롬프트와 출력의 예시입니다.

### 입력 프롬프트 예시(초기 번역)
```
Human: 다음은 영어에서 한글로의 번역 작업입니다. 주어진 텍스트를 한글로 번역해 주세요. 번역 외의 다른 설명이나 텍스트는 제공하지 마세요.
<SOURCE_TEXT>
Reed College at that time offered perhaps the best calligraphy instruction in the country. Throughout the campus every poster, every label on every drawer, was beautifully hand calligraphed. Because I had dropped out and didn't have to take the normal classes, I decided to take a calligraphy class to learn how to do this. I learned about serif and san serif typefaces, about varying the amount of space between different letter combinations, about what makes great typography great. It was beautiful, historical, artistically subtle in a way that science can't capture, and I found it fascinating.

None of this had even a hope of any practical application in my life. But ten years later, when we were designing the first Macintosh computer, it all came back to me. And we designed it all into the Mac. It was the first computer with beautiful typography. If I had never dropped in on that single course in college, the Mac would have never had multiple typefaces or proportionally spaced fonts. And since Windows just copied the Mac, its likely that no personal computer would have them. If I had never dropped out, I would have never dropped in on this calligraphy class, and personal computers might not have the wonderful typography that they do. Of course it was impossible to connect the dots looking forward when I was in college. But it was very, very clear looking backwards ten years later.

Again, you can't connect the dots looking forward; you can only connect them looking backwards. So you have to trust that the dots will somehow connect in your future. You have to trust in something — your gut, destiny, life, karma, whatever. This approach has never let me down, and it has made all the difference in my life.
</SOURCE_TEXT>
```

### 출력(초기 번역)
```
<TRANSLATION>
리드 칼리지는 당시 미국에서 아마도 최고의 서예 교육을 제공했습니다. 캠퍼스 전체에 걸쳐 모든 포스터와 모든 서랍장의 라벨이 아름다운 손글씨로 쓰여 있었습니다. 제가 자퇴를 했고 정규 수업을 들을 필요가 없었기에, 이것을 배우기 위해 서예 수업을 듣기로 결심했습니다. 저는 세리프체와 산세리프체에 대해, 글자 조합 사이의 간격을 조절하는 법에 대해, 그리고 무엇이 훌륭한 타이포그래피를 만드는지에 대해 배웠습니다. 그것은 과학이 담아낼 수 없을 만큼 아름답고, 역사적이며, 예술적으로 섬세했고, 저는 그것에 매료되었습니다.

이 모든 것은 제 인생에서 실용적으로 쓰일 거라는 희망조차 없었습니다. 하지만 10년 후, 우리가 첫 매킨토시 컴퓨터를 디자인할 때, 이 모든 것이 떠올랐습니다. 그래서 우리는 이 모든 것을 맥에 담아냈습니다. 맥은 아름다운 타이포그래피를 갖춘 최초의 컴퓨터였습니다. 제가 대학에서 그 한 과목을 듣지 않았더라면, 맥은 다양한 서체나 비례 간격 글꼴을 가질 수 없었을 것입니다. 그리고 윈도우가 단순히 맥을 모방했기 때문에, 아마도 어떤 개인용 컴퓨터도 이러한 것들을 갖지 못했을 것입니다. 제가 자퇴를 하지 않았더라면, 이 서예 수업을 들을 수 없었을 것이고, 개인용 컴퓨터들은 지금과 같은 멋진 타이포그래피를 갖지 못했을 것입니다. 물론 대학 시절에는 앞을 내다보며 이러한 점들을 연결하는 것이 불가능했습니다. 하지만 10년 후 뒤돌아보니 매우 명확했습니다.

다시 말하지만, 여러분은 앞을 보며 점들을 연결할 수 없습니다. 오직 뒤돌아보며 연결할 수 있을 뿐입니다. 그래서 여러분은 이 점들이 미래에 어떻게든 연결될 것이라 믿어야 합니다. 여러분은 무언가를 믿어야 합니다 - 자신의 직감이든, 운명이든, 인생이든, 카르마든, 무엇이든지. 이러한 접근 방식은 저를 한 번도 실망시킨 적이 없었고, 제 인생에 큰 차이를 만들어냈습니다.
</TRANSLATION>
```

### 입력 플롬프트 예시(전문가 검토)
```
Human: 당신은 영어에서 한글로의 번역을 편집을 전문으로 하는 언어학자입니다. 아래의 원문과 번역을 주의 깊게 읽고 번역을 개선하기 위한 건설적인 비평과 유용한 제안을 해주세요. 최종 번역의 스타일과 톤은 한국에서 구어적으로 사용되는 한글의 스타일과 일치해야 합니다.

번역 개선을 위해 다음 사항에 주의를 기울여주세요.
(i) 정확성 (추가, 오역, 누락 또는 미번역 텍스트의 오류 수정)
(ii) 유창성 (한글 문법, 철차 및 구두점 규칙 적용, 불필요한 반복 제거)
(iii) 스타일 (원문의 스타일을 반영하고 문학적 맥락을 고려)
(iv) 용어 (일관된 용어 사용 및 원문 도메인 반영, 할글에 맞는 관용구 사용)

번역을 개선하기 위한 구체적이고 유용한 제안 목록을 작성해 주세요.
각 제안은 번역의 특정 부분을 다루어야 합니다.
제안 사항만 출력하고 다른 내용은 포함하지 마세요./

<SOURCE_TEXT>
생략(초기 번역 사용자 프롬프트의 원문과 동일)
</SOURCE_TEXT>

<TRANSLATION>
생략(초기 번역 출력과 동일)
</TRANSLATION>

Assitant:
```

### 코드 생성: 자동 코딩 및 오류 수정
Claude와 같은 대규모 언어 모델을 사용하여 코드 생성 작업을 수행하는 프롬프트 엔지니어링 기법은 프로그래머의 생산성을 향상시키고 복잡한 프로그래밍 작업을 단순하하는 데 큰 도움을 줍니다.

효과적인 코드 생성 프롬프트에는 다음과 같은 특징이 있습니다.
```
1. 명확성: 원하는 기능과 요구사항을 정확히 명시합니다.

2. 구체성: 사용할 프로그래밍 언더, 라이브러리, 코딩 스타일 등을 지정합니다.

3. 컨텍스트 제공: 필요한 경우 관련 코드 시니펫(Snippets) 이나 예시를 포함합니다.

4. 단계별 접근: 복잡한 작업의 경우 단계별로 나누어 요청합니다.
```

일반적인 코드 생성 프롬프트는 작업 설명, 입력/출력 명세, 제약 조건 그리고 예시나 테스트 케이스를 포함합니다. 작업 설명에서는 코드의 목적과 기능을 명확히 설명하고 입력/출력 명세에서는 예상도는 입력과 원하는 출력 형식을 지정합니다. 제약 조건에서는 성능, 메모리 사용량, 코딩 스타일 등의 요구 사항을 명시하며 예시나 테스트 케이스를 통해 코드의 정확성을 검증할 수 있는 기준을 제공합니다. 

이러한 형식의 프롬프트를 사용하면 Claude 모델이 요구사항에 맞는 정확하고 효율적인 코드를 생성할 수 있습니다. 그러나 생성된 코드는 향상 검토와 테스트가 필요하며 때로는 수정이 필요할 수 있습니다.

프롬프트 엔지니어링을 통한 코드 생성은 프로그래밍 작업을 가속화하고 반복적인 작업을 줄이며 새로운 프로그래밍 개념을 학습하는 데 도움을 줍니다. 그러나 Claude 가 생성한 코드를 맹목적으로 신뢰하기보다는 프로그래머의 지식과 판단력을 바탕으로 적절히 활용하는 것이 중요합니다. 생성형 AI 는 코드 생성을 위한 강력한 도구지만 최종적인 코드 품질과 정확성에 대한 책임은 여전히 개발자에게 있습니다.

### 프롬프트 템플릿(코드 생성)
```
Human: 수행하려는 프로그래밍 작업은 다음과 같습니다.
<task>
{수행하려는 작업}
</task>

다음은 웹사이트의 현재 디자인을 이해하는 데 사용할 HTML 및 CSS 관련 코드입니다.

<documents>
    <document index='1'>
        <source>
        HTML code
        </source>
        <document_content>
    </document>
    <document index='2'>
        <source>
        CSS code
        </source>
        <document_content>
        {css_code}
        </document_content>
    </document>
</documents>

<instructions>
제공한 HTML 및 CSS 코드를 기반으로 주어진 작업에 맞는 웹사이트를 구축하기 위해 고품질의 HTML 및 CSS 코드를 작성하고 편집하세요. 다음 기준을 준수하세요:

1. 최신 웹 표준과 모범 사례를 따르세요.

2. 성능, 접근성, 반응형 디자인을 고려하세요.

3. HTML 코드에 다음 링크를 추가하세요: <link rel='stylesheet' href='styles.css'>

4. 모든 <img> 태그에 'src' 와 'alt' 속성을 제공하세요. 'src' 는 'images/' 로 시작하고 'alt' 는 이미지에 대한 적절한 설명이어야 합니다.

5. <request></request> XML 태그 외의 HTMl 코드는 변경하지 마세요.
</instructions>

<output_format>
1. HTMl 코드는 <htmlcode></htmlcode> XML 태그 내에 작성하세요.

2. CSS 코드는 <csscode></csscode> XML 태그 내에 작성하세요.

3. 서문이나 설명 없이 바로 작업의 결과를 출력하세요.
</output_foprmat>

Assistant:
```

다음은 탬플릿을 사용하여 실제로 코드 생성을 수행한 입력 프롬프트와 출력의 예시입니다.

### 프롬프트 템플릿(코드 생성)
```
Human: 수행하려는 프로그래밍 작업은 다음과 같습니다.
<task>
화장품 상품을 판매하는 이커머스 사이트의 홈페이지를 디자인하고 만들어 주세요.
</task>

다음은 웹사이트의 현재 디자인을 이해하는 데 사용할 HTML 및 CSS 관련 코드입니다.

<documents>
    <document index='1'>
        <source>
        HTML code
        </source>
        <document_content>
    </document>
    <document index='2'>
        <source>
        CSS code
        </source>
        <document_content>
        {css_code}
        </document_content>
    </document>
</documents>

<instructions>
제공한 HTML 및 CSS 코드를 기반으로 주어진 작업에 맞는 웹사이트를 구축하기 위해 고품질의 HTML 및 CSS 코드를 작성하고 편집하세요. 다음 기준을 준수하세요:

1. 최신 웹 표준과 모범 사례를 따르세요.

2. 성능, 접근성, 반응형 디자인을 고려하세요.

3. HTML 코드에 다음 링크를 추가하세요: <link rel='stylesheet' href='styles.css'>

4. 모든 <img> 태그에 'src' 와 'alt' 속성을 제공하세요. 'src' 는 'images/' 로 시작하고 'alt' 는 이미지에 대한 적절한 설명이어야 합니다.

5. <request></request> XML 태그 외의 HTMl 코드는 변경하지 마세요.
</instructions>

<output_format>
1. HTMl 코드는 <htmlcode></htmlcode> XML 태그 내에 작성하세요.

2. CSS 코드는 <csscode></csscode> XML 태그 내에 작성하세요.

3. 서문이나 설명 없이 바로 작업의 결과를 출력하세요.
</output_foprmat>

Assistant:
```

### 출력(번역 수정)

### 출력 웹사이트
